<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>iOS 打通测试</title>
    <meta name="viewport" content="width=device-width">
  </head>
  <body>
    <p>测试app h5打通专用</p>
    <p><button>test</button></p>
    <textarea id="log" style="width: 100%; min-height: 500px;"></textarea>
    <script>
      (function(para) {
        if(typeof(window['sensorsDataAnalytic201505']) !== 'undefined') {
          return false;
        }
        window['sensorsDataAnalytic201505'] = para.name;
        window[para.name] = {
          para: para
        };
      })({
        use_app_track: true,
        name: 'sensors',
        server_url: 'https://sdktest.datasink.sensorsdata.cn/sa?project=chuqiangsheng&token=21f2e56df73988c7',
        //server_url: 'https://test-syg.datasink.sensorsdata.cn/sa?token=27f1e21b78daf376&project=lixiang',
        //heatmap_url神策分析中点击分析及触达分析功能代码，代码生成工具会自动生成。如果神策代码中 `sensorsdata.min.js` 版本是 1.9.1 及以上版本，这个参数必须配置，低于此版本不需要配置。
        heatmap_url: "https://cdn.jsdelivr.net/npm/sa-sdk-javascript@1.13.12/heatmap.min.js",
        heatmap: {}
      });
    </script>
    <script src="./sensorsdata.full.js"></script>
    <script>
      window.oldGlobalConsole = window.console;
      window.console = new Proxy(window.console, {
        get(target, property) {
          if (property === 'log') {
            return function(...parameters) {
              //logMsg = parameters.join(' ');
              document.getElementById('log').value += '\n' + parameters.join('\n') + '\n--------------------';
              return oldGlobalConsole.log.apply(oldGlobalConsole, parameters);
            };
          }
          return target[property];
        }
      });
      sensors.quick('autoTrack');
    </script>
  </body>
</html>
